<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VulkanRaytracingCycles: ImagesVk Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VulkanRaytracingCycles<span id="projectnumber">&#160;0.0.0</span>
   </div>
   <div id="projectbrief">Cycles Render Engine With VulkanRaytracingShaderModules. ( Experiment , in progress)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="struct_images_vk-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ImagesVk Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afbca33d54a66b62a79cc588968587f14"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#afbca33d54a66b62a79cc588968587f14">ImagesVk</a> (VkCommandPool <a class="el" href="struct_images_vk.html#ac75432fbee01646873fa40d567055d0c">cmdPool</a>)</td></tr>
<tr class="separator:afbca33d54a66b62a79cc588968587f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93958478e5000b531daa24a1d8c321a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a93958478e5000b531daa24a1d8c321a8">ImagesVk</a> ()</td></tr>
<tr class="separator:a93958478e5000b531daa24a1d8c321a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4a21a61d6a651babeb38aad6fddf83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a6a4a21a61d6a651babeb38aad6fddf83">~ImagesVk</a> ()</td></tr>
<tr class="separator:a6a4a21a61d6a651babeb38aad6fddf83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae64b3fe993a6ecb2c9201e4c798cad68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#ae64b3fe993a6ecb2c9201e4c798cad68">dealloc</a> ()</td></tr>
<tr class="separator:ae64b3fe993a6ecb2c9201e4c798cad68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957ccbe3c1fc7393a4db9f56eb9c9d13"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a957ccbe3c1fc7393a4db9f56eb9c9d13"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a957ccbe3c1fc7393a4db9f56eb9c9d13">getImage</a> (T &amp;iach, <a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp;_)</td></tr>
<tr class="separator:a957ccbe3c1fc7393a4db9f56eb9c9d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dfba76e12298bbf185609eb8028f57d"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a8dfba76e12298bbf185609eb8028f57d"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a8dfba76e12298bbf185609eb8028f57d">createFromRaw</a> (<a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;cmder, std::string Name, void *src, uint32_t w, uint32_t h, VkImageLayout dstlayout=VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL)</td></tr>
<tr class="separator:a8dfba76e12298bbf185609eb8028f57d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b2e446e39fb9306822ee7c9acd03de"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#aa0b2e446e39fb9306822ee7c9acd03de">create2D</a> (<a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp;_, VkFormat <a class="el" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>, VkImageUsageFlags flag=VK_IMAGE_USAGE_TRANSFER_DST_BIT|VK_IMAGE_USAGE_TRANSFER_SRC_BIT|VK_IMAGE_USAGE_SAMPLED_BIT, VkMemoryPropertyFlags <a class="el" href="vthreepy__types_8h.html#a497bc2fce901db395d194b04e1eb5322">properties</a>=VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT)</td></tr>
<tr class="separator:aa0b2e446e39fb9306822ee7c9acd03de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd35203707ae19c4129f6f4e15c090c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#adfd35203707ae19c4129f6f4e15c090c">createCubeMap</a> (<a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp;_, VkFormat <a class="el" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>)</td></tr>
<tr class="separator:adfd35203707ae19c4129f6f4e15c090c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a65a9a7f47522a7cad2d9389681602"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a96a65a9a7f47522a7cad2d9389681602">create2DArray</a> (<a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp;_, VkFormat <a class="el" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>)</td></tr>
<tr class="separator:a96a65a9a7f47522a7cad2d9389681602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab722003ad259aa64757a8b34e5bab0d"><td class="memTemplParams" colspan="2">template&lt;class <a class="el" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a> &gt; </td></tr>
<tr class="memitem:aab722003ad259aa64757a8b34e5bab0d"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#aab722003ad259aa64757a8b34e5bab0d">create2DStorageArray</a> (<a class="el" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a> &amp;_, VkFormat <a class="el" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>)</td></tr>
<tr class="separator:aab722003ad259aa64757a8b34e5bab0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f31deac8321b6fc9055029d308c4a6c"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a6f31deac8321b6fc9055029d308c4a6c"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a6f31deac8321b6fc9055029d308c4a6c">createCubeMapFromKtx</a> (<a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;cmder, <a class="el" href="struct_iache.html">Iache</a> &amp;iach)</td></tr>
<tr class="separator:a6f31deac8321b6fc9055029d308c4a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1592d43e4e467092e8dc6320c8038e5a"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a1592d43e4e467092e8dc6320c8038e5a"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a1592d43e4e467092e8dc6320c8038e5a">createFromKtx</a> (<a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;cmder, std::string key, <a class="el" href="struct_iache.html">Iache</a> &amp;iach)</td></tr>
<tr class="separator:a1592d43e4e467092e8dc6320c8038e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1cdea9da7c221aca9b6101449020092"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ac1cdea9da7c221aca9b6101449020092"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#ac1cdea9da7c221aca9b6101449020092">createFromFile</a> (<a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;cmder, std::string key, <a class="el" href="struct_iache.html">Iache</a> &amp;iach)</td></tr>
<tr class="separator:ac1cdea9da7c221aca9b6101449020092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4385349e0f837c4552cec0e29960d66e"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a4385349e0f837c4552cec0e29960d66e"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a4385349e0f837c4552cec0e29960d66e">createFromFiles</a> (<a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;cmder, std::vector&lt; std::string &gt; keys, <a class="el" href="struct_iache.html">Iache</a> &amp;iach)</td></tr>
<tr class="separator:a4385349e0f837c4552cec0e29960d66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb134f04529b8cc4a9abdbab898cf8d5"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:acb134f04529b8cc4a9abdbab898cf8d5"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#acb134f04529b8cc4a9abdbab898cf8d5">createFromFileStorage</a> (<a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;cmder, std::string key, <a class="el" href="struct_iache.html">Iache</a> &amp;iach)</td></tr>
<tr class="separator:acb134f04529b8cc4a9abdbab898cf8d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af690e07290f9342a72aeeee8103fecd4"><td class="memItemLeft" align="right" valign="top">VkPipelineShaderStageCreateInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#af690e07290f9342a72aeeee8103fecd4">loadShader</a> (std::string fileName, VkShaderStageFlagBits stage, <a class="el" href="struct_pv_svk.html">PvSvk</a> &amp;p)</td></tr>
<tr class="separator:af690e07290f9342a72aeeee8103fecd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a9a8a8ea5054178bce0029374f23a7"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a98a9a8a8ea5054178bce0029374f23a7"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a98a9a8a8ea5054178bce0029374f23a7">Canvas2D</a> (<a class="el" href="struct_m_i_vvk.html">MIVvk</a> &amp;Color, <a class="el" href="struct_m_i_vvk.html">MIVvk</a> &amp;Depth, T *cvs)</td></tr>
<tr class="separator:a98a9a8a8ea5054178bce0029374f23a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6125900cbbf0a9d8ff1731848735e414"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a6125900cbbf0a9d8ff1731848735e414"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a6125900cbbf0a9d8ff1731848735e414">$Delete</a> (T *hach)</td></tr>
<tr class="separator:a6125900cbbf0a9d8ff1731848735e414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a133242c10627928aa96b06f0b86e4c52"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a133242c10627928aa96b06f0b86e4c52"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#a133242c10627928aa96b06f0b86e4c52">$DeleteMIVSI</a> (T *hach)</td></tr>
<tr class="separator:a133242c10627928aa96b06f0b86e4c52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac75432fbee01646873fa40d567055d0c"><td class="memItemLeft" align="right" valign="top">VkCommandPool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_images_vk.html#ac75432fbee01646873fa40d567055d0c">cmdPool</a></td></tr>
<tr class="separator:ac75432fbee01646873fa40d567055d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00652">652</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afbca33d54a66b62a79cc588968587f14" name="afbca33d54a66b62a79cc588968587f14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbca33d54a66b62a79cc588968587f14">&#9670;&nbsp;</a></span>ImagesVk() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ImagesVk::ImagesVk </td>
          <td>(</td>
          <td class="paramtype">VkCommandPool&#160;</td>
          <td class="paramname"><em>cmdPool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8cpp_source.html#l00054">54</a> of file <a class="el" href="_images_vk_8cpp_source.html">ImagesVk.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>    : <a class="code hl_variable" href="struct_images_vk.html#ac75432fbee01646873fa40d567055d0c">cmdPool</a>(<a class="code hl_variable" href="struct_images_vk.html#ac75432fbee01646873fa40d567055d0c">cmdPool</a>) {};</div>
<div class="ttc" id="astruct_images_vk_html_ac75432fbee01646873fa40d567055d0c"><div class="ttname"><a href="struct_images_vk.html#ac75432fbee01646873fa40d567055d0c">ImagesVk::cmdPool</a></div><div class="ttdeci">VkCommandPool cmdPool</div><div class="ttdef"><b>Definition:</b> <a href="_images_vk_8h_source.html#l00656">ImagesVk.h:656</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93958478e5000b531daa24a1d8c321a8" name="a93958478e5000b531daa24a1d8c321a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93958478e5000b531daa24a1d8c321a8">&#9670;&nbsp;</a></span>ImagesVk() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ImagesVk::ImagesVk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8cpp_source.html#l00057">57</a> of file <a class="el" href="_images_vk_8cpp_source.html">ImagesVk.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>                   {</div>
<div class="line"><span class="lineno">   58</span>    </div>
<div class="line"><span class="lineno">   59</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a4a21a61d6a651babeb38aad6fddf83" name="a6a4a21a61d6a651babeb38aad6fddf83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a4a21a61d6a651babeb38aad6fddf83">&#9670;&nbsp;</a></span>~ImagesVk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ImagesVk::~ImagesVk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8cpp_source.html#l00063">63</a> of file <a class="el" href="_images_vk_8cpp_source.html">ImagesVk.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{ <a class="code hl_function" href="struct_images_vk.html#ae64b3fe993a6ecb2c9201e4c798cad68">dealloc</a>(); }</div>
<div class="ttc" id="astruct_images_vk_html_ae64b3fe993a6ecb2c9201e4c798cad68"><div class="ttname"><a href="struct_images_vk.html#ae64b3fe993a6ecb2c9201e4c798cad68">ImagesVk::dealloc</a></div><div class="ttdeci">void dealloc()</div><div class="ttdef"><b>Definition:</b> <a href="_images_vk_8cpp_source.html#l00065">ImagesVk.cpp:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6125900cbbf0a9d8ff1731848735e414" name="a6125900cbbf0a9d8ff1731848735e414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6125900cbbf0a9d8ff1731848735e414">&#9670;&nbsp;</a></span>$Delete()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::$Delete </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>hach</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l01186">1186</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1186</span>                           {</div>
<div class="line"><span class="lineno"> 1187</span>        <a class="code hl_struct" href="struct_m_i_vvk.html">MIVvk</a>  _;</div>
<div class="line"><span class="lineno"> 1188</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_vvk.html">MIVvk</a>,<a class="code hl_define" href="_images_vk_8h.html#a976170f2f82e7c3099f1c6689854017a">SIZE_MIV</a>).$get(_, hach)) {</div>
<div class="line"><span class="lineno"> 1189</span>            <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_vvk.html">MIVvk</a>,<a class="code hl_define" href="_images_vk_8h.html#a976170f2f82e7c3099f1c6689854017a">SIZE_MIV</a>).$delete$(hach);</div>
<div class="line"><span class="lineno"> 1190</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1191</span>        }</div>
<div class="line"><span class="lineno"> 1192</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1193</span>    };</div>
<div class="ttc" id="a_images_vk_8h_html_a976170f2f82e7c3099f1c6689854017a"><div class="ttname"><a href="_images_vk_8h.html#a976170f2f82e7c3099f1c6689854017a">SIZE_MIV</a></div><div class="ttdeci">#define SIZE_MIV</div><div class="ttdef"><b>Definition:</b> <a href="_images_vk_8h_source.html#l00018">ImagesVk.h:18</a></div></div>
<div class="ttc" id="aincomplete_8h_html_a87194b020271631ee31ef95650b93349"><div class="ttname"><a href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a></div><div class="ttdeci">#define Mem(vk, sz)</div><div class="ttdef"><b>Definition:</b> <a href="incomplete_8h_source.html#l00329">incomplete.h:329</a></div></div>
<div class="ttc" id="astruct_m_i_vvk_html"><div class="ttname"><a href="struct_m_i_vvk.html">MIVvk</a></div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00318">vthreepy_types.h:318</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a133242c10627928aa96b06f0b86e4c52" name="a133242c10627928aa96b06f0b86e4c52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a133242c10627928aa96b06f0b86e4c52">&#9670;&nbsp;</a></span>$DeleteMIVSI()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::$DeleteMIVSI </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>hach</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l01196">1196</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1196</span>                               {</div>
<div class="line"><span class="lineno"> 1197</span>        <a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>  _;</div>
<div class="line"><span class="lineno"> 1198</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>, <a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$get(_, hach)) {</div>
<div class="line"><span class="lineno"> 1199</span>            <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>, <a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$delete$(hach);</div>
<div class="line"><span class="lineno"> 1200</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1201</span>        }</div>
<div class="line"><span class="lineno"> 1202</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1203</span>    };</div>
<div class="ttc" id="a_images_vk_8h_html_ad7012ed3b3f3cb02b2ac2f38bcb139be"><div class="ttname"><a href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a></div><div class="ttdeci">#define SIZE_MIVSI</div><div class="ttdef"><b>Definition:</b> <a href="_images_vk_8h_source.html#l00017">ImagesVk.h:17</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html"><div class="ttname"><a href="struct_m_i_v_s_ivk.html">MIVSIvk</a></div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00221">vthreepy_types.h:221</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98a9a8a8ea5054178bce0029374f23a7" name="a98a9a8a8ea5054178bce0029374f23a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a9a8a8ea5054178bce0029374f23a7">&#9670;&nbsp;</a></span>Canvas2D()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::Canvas2D </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_i_vvk.html">MIVvk</a> &amp;&#160;</td>
          <td class="paramname"><em>Color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_i_vvk.html">MIVvk</a> &amp;&#160;</td>
          <td class="paramname"><em>Depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>cvs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >VK_IMAGE_VIEW_TYPE_2D_ARRAY;</p>

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l01020">1020</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1020</span>                                                     {</div>
<div class="line"><span class="lineno"> 1021</span> </div>
<div class="line"><span class="lineno"> 1022</span>        <span class="keyword">const</span> uint32_t multiviewLayerCount = 1;</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>        {</div>
<div class="line"><span class="lineno"> 1025</span>            <span class="keywordtype">bool</span> gen = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1026</span>            </div>
<div class="line"><span class="lineno"> 1027</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_vvk.html">MIVvk</a>,<a class="code hl_define" href="_images_vk_8h.html#a976170f2f82e7c3099f1c6689854017a">SIZE_MIV</a>).$get(Color, &amp;cvs-&gt;iachCol.hach)) {</div>
<div class="line"><span class="lineno"> 1028</span>                <span class="keywordflow">if</span> (cvs-&gt;w != Color.<a class="code hl_variable" href="struct_m_i_vvk.html#ab682fd0a0c5563c4f4c6b6bbb2108f19">w</a> || cvs-&gt;h != Color.<a class="code hl_variable" href="struct_m_i_vvk.html#af2e329c67524c34dc426d2b001eacfef">h</a>) {</div>
<div class="line"><span class="lineno"> 1029</span>                    <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_vvk.html">MIVvk</a>,<a class="code hl_define" href="_images_vk_8h.html#a976170f2f82e7c3099f1c6689854017a">SIZE_MIV</a>).$delete$(&amp;cvs-&gt;iachCol.hach);</div>
<div class="line"><span class="lineno"> 1030</span>                }</div>
<div class="line"><span class="lineno"> 1031</span>                <span class="keywordflow">else</span>  gen = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1032</span>            };</div>
<div class="line"><span class="lineno"> 1033</span>            </div>
<div class="line"><span class="lineno"> 1034</span>            <span class="keywordflow">if</span> (gen) {</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>                <span class="keywordflow">if</span> (cvs-&gt;w == 0 || cvs-&gt;h == 0) {</div>
<div class="line"><span class="lineno"> 1037</span>                    log_bad(<span class="stringliteral">&quot;Create Canvas2D::Size InValid.  %u  %u \n&quot;</span>, cvs-&gt;w, cvs-&gt;h);</div>
<div class="line"><span class="lineno"> 1038</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1039</span>                };</div>
<div class="line"><span class="lineno"> 1040</span> </div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>                Color.<a class="code hl_variable" href="struct_m_i_vvk.html#ab682fd0a0c5563c4f4c6b6bbb2108f19">w</a> = cvs-&gt;w;</div>
<div class="line"><span class="lineno"> 1043</span>                Color.<a class="code hl_variable" href="struct_m_i_vvk.html#af2e329c67524c34dc426d2b001eacfef">h</a> = cvs-&gt;h;</div>
<div class="line"><span class="lineno"> 1044</span>                Color.<a class="code hl_variable" href="struct_m_i_vvk.html#ac0052ca73579122d3ee0b13c10e55bdd">l</a> = 1;</div>
<div class="line"><span class="lineno"> 1045</span>                VkImageCreateInfo imageCI = vka::plysm::imageCreateInfo();</div>
<div class="line"><span class="lineno"> 1046</span>                imageCI.imageType = VK_IMAGE_TYPE_2D;</div>
<div class="line"><span class="lineno"> 1047</span>                imageCI.format = $format.COLORFORMAT;</div>
<div class="line"><span class="lineno"> 1048</span>                imageCI.extent = { Color.<a class="code hl_variable" href="struct_m_i_vvk.html#ab682fd0a0c5563c4f4c6b6bbb2108f19">w</a>,Color.<a class="code hl_variable" href="struct_m_i_vvk.html#af2e329c67524c34dc426d2b001eacfef">h</a>, 1 };</div>
<div class="line"><span class="lineno"> 1049</span>                imageCI.mipLevels = 1;</div>
<div class="line"><span class="lineno"> 1050</span>                imageCI.sharingMode = VK_SHARING_MODE_EXCLUSIVE;</div>
<div class="line"><span class="lineno"> 1051</span>                imageCI.arrayLayers = multiviewLayerCount;</div>
<div class="line"><span class="lineno"> 1052</span>                imageCI.samples = VK_SAMPLE_COUNT_1_BIT; <span class="comment">// (VkSampleCountFlagBits)MSAASampleCount; ///VK_SAMPLE_COUNT_1_BIT;</span></div>
<div class="line"><span class="lineno"> 1053</span>                imageCI.tiling = VK_IMAGE_TILING_OPTIMAL;</div>
<div class="line"><span class="lineno"> 1054</span>                imageCI.usage = VK_IMAGE_USAGE_SAMPLED_BIT | VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT | VK_IMAGE_USAGE_TRANSFER_SRC_BIT | VK_IMAGE_USAGE_TRANSFER_DST_BIT;</div>
<div class="line"><span class="lineno"> 1055</span>                imageCI.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;  <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1056</span>                VK_CHECK_RESULT(vkCreateImage($device, &amp;imageCI, <span class="keyword">nullptr</span>, &amp;Color.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>));</div>
<div class="line"><span class="lineno"> 1057</span>                Color.<a class="code hl_variable" href="struct_m_i_vvk.html#ae7a99eb12b99ba657d0ef86bebdfe2d1">Info</a>.imageLayout = imageCI.initialLayout;</div>
<div class="line"><span class="lineno"> 1058</span> </div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>                VkMemoryRequirements memReqs;</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>                vkGetImageMemoryRequirements($device, Color.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>, &amp;memReqs);</div>
<div class="line"><span class="lineno"> 1064</span>                Color.<a class="code hl_variable" href="struct_m_i_vvk.html#afff144bdfa5c0e0cda15316621e960a6">size</a> = memReqs.size;</div>
<div class="line"><span class="lineno"> 1065</span> </div>
<div class="line"><span class="lineno"> 1066</span>                VkMemoryAllocateInfo memoryAllocInfo = vka::plysm::memoryAllocateInfo();</div>
<div class="line"><span class="lineno"> 1067</span>                memoryAllocInfo.allocationSize = memReqs.size;</div>
<div class="line"><span class="lineno"> 1068</span>                memoryAllocInfo.memoryTypeIndex = vka::shelve::getMemoryType(memReqs.memoryTypeBits, VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT);</div>
<div class="line"><span class="lineno"> 1069</span>                VK_CHECK_RESULT(vkAllocateMemory($device, &amp;memoryAllocInfo, <span class="keyword">nullptr</span>, &amp;Color.<a class="code hl_variable" href="struct_m_i_vvk.html#afb927bd9bd951ef23c89566e21f7c4d1">memory</a>));</div>
<div class="line"><span class="lineno"> 1070</span>                VK_CHECK_RESULT(vkBindImageMemory($device, Color.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>, Color.<a class="code hl_variable" href="struct_m_i_vvk.html#afb927bd9bd951ef23c89566e21f7c4d1">memory</a>, 0));</div>
<div class="line"><span class="lineno"> 1071</span> </div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>                VkImageViewCreateInfo imageViewCI = vka::plysm::imageViewCreateInfo();</div>
<div class="line"><span class="lineno"> 1075</span>                imageViewCI.viewType = VK_IMAGE_VIEW_TYPE_2D;</div>
<div class="line"><span class="lineno"> 1076</span>                imageViewCI.format = $format.COLORFORMAT;</div>
<div class="line"><span class="lineno"> 1077</span>                imageViewCI.flags = 0;</div>
<div class="line"><span class="lineno"> 1078</span>                imageViewCI.components.r = VK_COMPONENT_SWIZZLE_R;</div>
<div class="line"><span class="lineno"> 1079</span>                imageViewCI.components.g = VK_COMPONENT_SWIZZLE_G;</div>
<div class="line"><span class="lineno"> 1080</span>                imageViewCI.components.b = VK_COMPONENT_SWIZZLE_B;</div>
<div class="line"><span class="lineno"> 1081</span>                imageViewCI.components.a = VK_COMPONENT_SWIZZLE_A;</div>
<div class="line"><span class="lineno"> 1082</span>                imageViewCI.subresourceRange = {};</div>
<div class="line"><span class="lineno"> 1083</span>                imageViewCI.subresourceRange.aspectMask = VK_IMAGE_ASPECT_COLOR_BIT;</div>
<div class="line"><span class="lineno"> 1084</span>                imageViewCI.subresourceRange.baseMipLevel = 0;</div>
<div class="line"><span class="lineno"> 1085</span>                imageViewCI.subresourceRange.levelCount = 1;</div>
<div class="line"><span class="lineno"> 1086</span>                imageViewCI.subresourceRange.baseArrayLayer = 0;</div>
<div class="line"><span class="lineno"> 1087</span>                imageViewCI.subresourceRange.layerCount = multiviewLayerCount;</div>
<div class="line"><span class="lineno"> 1088</span>                imageViewCI.image = Color.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>;</div>
<div class="line"><span class="lineno"> 1089</span>                VK_CHECK_RESULT(vkCreateImageView($device, &amp;imageViewCI, <span class="keyword">nullptr</span>, &amp;Color.<a class="code hl_variable" href="struct_m_i_vvk.html#aa04c99f88e823b179b792feb8efa3477">view</a>));</div>
<div class="line"><span class="lineno"> 1090</span> </div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>                </div>
<div class="line"><span class="lineno"> 1093</span>                <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_vvk.html">MIVvk</a>,<a class="code hl_define" href="_images_vk_8h.html#a976170f2f82e7c3099f1c6689854017a">SIZE_MIV</a>).$set$(std::move(Color), &amp;cvs-&gt;iachCol.hach);</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>                <a class="code hl_define" href="_images_vk_8h.html#a028aff2a2f489739cd0ce52d14e000ad">log_img</a>(<span class="stringliteral">&quot;Create Canvas2D:: %u  %u     %x    %x \n&quot;</span>, cvs-&gt;w, cvs-&gt;h, Color.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>, cvs-&gt;iachCol.hach.hash);</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>                cvs-&gt;iachCol.refCnt++; </div>
<div class="line"><span class="lineno"> 1098</span>                cvs-&gt;iachCol.vkI = Color.<a class="code hl_variable" href="struct_m_i_vvk.html#aa04c99f88e823b179b792feb8efa3477">view</a>;</div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span>            }</div>
<div class="line"><span class="lineno"> 1101</span>            </div>
<div class="line"><span class="lineno"> 1102</span>            </div>
<div class="line"><span class="lineno"> 1103</span>            <a class="code hl_define" href="_images_vk_8h.html#a028aff2a2f489739cd0ce52d14e000ad">log_img</a>(<span class="stringliteral">&quot;get Canvas2D:: %u  %u     %x    %x \n&quot;</span>, cvs-&gt;w, cvs-&gt;h, Color.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>, cvs-&gt;iachCol.hach.hash);</div>
<div class="line"><span class="lineno"> 1104</span>        }</div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>        {</div>
<div class="line"><span class="lineno"> 1107</span>            <span class="keywordtype">bool</span> gen = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1108</span>            <span class="keywordflow">if</span> (<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_vvk.html">MIVvk</a>,<a class="code hl_define" href="_images_vk_8h.html#a976170f2f82e7c3099f1c6689854017a">SIZE_MIV</a>).$get(Depth, &amp;cvs-&gt;iachDep.hach)) {</div>
<div class="line"><span class="lineno"> 1109</span>                <span class="keywordflow">if</span> (cvs-&gt;w != Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#ab682fd0a0c5563c4f4c6b6bbb2108f19">w</a> || cvs-&gt;h != Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#af2e329c67524c34dc426d2b001eacfef">h</a>) {</div>
<div class="line"><span class="lineno"> 1110</span>                    <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_vvk.html">MIVvk</a>,<a class="code hl_define" href="_images_vk_8h.html#a976170f2f82e7c3099f1c6689854017a">SIZE_MIV</a>).$delete$(&amp;cvs-&gt;iachDep.hach);</div>
<div class="line"><span class="lineno"> 1111</span>                }</div>
<div class="line"><span class="lineno"> 1112</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1113</span>                    gen = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1114</span>                }</div>
<div class="line"><span class="lineno"> 1115</span>            }</div>
<div class="line"><span class="lineno"> 1116</span>            </div>
<div class="line"><span class="lineno"> 1117</span>            <span class="keywordflow">if</span> (gen) {</div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>                <span class="keywordflow">if</span> (cvs-&gt;w == 0 || cvs-&gt;h == 0) {</div>
<div class="line"><span class="lineno"> 1120</span>                    log_bad(<span class="stringliteral">&quot;Create Canvas2D::Size InValid.  %u  %u \n&quot;</span>, cvs-&gt;w, cvs-&gt;h);</div>
<div class="line"><span class="lineno"> 1121</span>                    <span class="keywordflow">return</span>  <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1122</span>                };</div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>                Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#ab682fd0a0c5563c4f4c6b6bbb2108f19">w</a> = cvs-&gt;w;</div>
<div class="line"><span class="lineno"> 1126</span>                Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#af2e329c67524c34dc426d2b001eacfef">h</a> = cvs-&gt;h;</div>
<div class="line"><span class="lineno"> 1127</span>                Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#ac0052ca73579122d3ee0b13c10e55bdd">l</a>  = 1;</div>
<div class="line"><span class="lineno"> 1128</span>                VkImageCreateInfo imageCI = vka::plysm::imageCreateInfo();</div>
<div class="line"><span class="lineno"> 1129</span>                imageCI.imageType = VK_IMAGE_TYPE_2D;</div>
<div class="line"><span class="lineno"> 1130</span>                imageCI.format = $format.DEPTHFORMAT;</div>
<div class="line"><span class="lineno"> 1131</span>                imageCI.extent = { Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#ab682fd0a0c5563c4f4c6b6bbb2108f19">w</a>, Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#af2e329c67524c34dc426d2b001eacfef">h</a>, 1 };</div>
<div class="line"><span class="lineno"> 1132</span>                imageCI.mipLevels = 1;</div>
<div class="line"><span class="lineno"> 1133</span>                imageCI.arrayLayers = multiviewLayerCount;</div>
<div class="line"><span class="lineno"> 1134</span>                imageCI.samples = VK_SAMPLE_COUNT_1_BIT;</div>
<div class="line"><span class="lineno"> 1135</span>                imageCI.tiling = VK_IMAGE_TILING_OPTIMAL;</div>
<div class="line"><span class="lineno"> 1136</span>                imageCI.usage = VK_IMAGE_USAGE_DEPTH_STENCIL_ATTACHMENT_BIT;</div>
<div class="line"><span class="lineno"> 1137</span>                imageCI.flags = 0;</div>
<div class="line"><span class="lineno"> 1138</span>                VK_CHECK_RESULT(vkCreateImage($device, &amp;imageCI, <span class="keyword">nullptr</span>, &amp;Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>));</div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span>                VkMemoryRequirements memReqs;</div>
<div class="line"><span class="lineno"> 1141</span>                vkGetImageMemoryRequirements($device, Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>, &amp;memReqs);</div>
<div class="line"><span class="lineno"> 1142</span>                Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#afff144bdfa5c0e0cda15316621e960a6">size</a> = memReqs.size;</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>                VkMemoryAllocateInfo memAllocInfo{};</div>
<div class="line"><span class="lineno"> 1145</span>                memAllocInfo.sType = VK_STRUCTURE_TYPE_MEMORY_ALLOCATE_INFO;</div>
<div class="line"><span class="lineno"> 1146</span>                memAllocInfo.allocationSize = 0;</div>
<div class="line"><span class="lineno"> 1147</span>                memAllocInfo.memoryTypeIndex = 0;</div>
<div class="line"><span class="lineno"> 1148</span> </div>
<div class="line"><span class="lineno"> 1149</span>                VkImageViewCreateInfo depthStencilView = {};</div>
<div class="line"><span class="lineno"> 1150</span>                depthStencilView.sType = VK_STRUCTURE_TYPE_IMAGE_VIEW_CREATE_INFO;</div>
<div class="line"><span class="lineno"> 1151</span>                depthStencilView.pNext = NULL;</div>
<div class="line"><span class="lineno"> 1152</span>                depthStencilView.viewType = VK_IMAGE_VIEW_TYPE_2D;</div>
<div class="line"><span class="lineno"> 1153</span>                depthStencilView.format = $format.DEPTHFORMAT;</div>
<div class="line"><span class="lineno"> 1154</span>                depthStencilView.flags = 0;</div>
<div class="line"><span class="lineno"> 1155</span>                depthStencilView.subresourceRange = {};</div>
<div class="line"><span class="lineno"> 1156</span>                depthStencilView.subresourceRange.aspectMask = VK_IMAGE_ASPECT_DEPTH_BIT | VK_IMAGE_ASPECT_STENCIL_BIT;</div>
<div class="line"><span class="lineno"> 1157</span>                depthStencilView.subresourceRange.baseMipLevel = 0;</div>
<div class="line"><span class="lineno"> 1158</span>                depthStencilView.subresourceRange.levelCount = 1;</div>
<div class="line"><span class="lineno"> 1159</span>                depthStencilView.subresourceRange.baseArrayLayer = 0;</div>
<div class="line"><span class="lineno"> 1160</span>                depthStencilView.subresourceRange.layerCount = multiviewLayerCount;</div>
<div class="line"><span class="lineno"> 1161</span>                depthStencilView.image = Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>;</div>
<div class="line"><span class="lineno"> 1162</span> </div>
<div class="line"><span class="lineno"> 1163</span>                memAllocInfo.allocationSize = memReqs.size;</div>
<div class="line"><span class="lineno"> 1164</span>                memAllocInfo.memoryTypeIndex = vka::shelve::getMemoryType(memReqs.memoryTypeBits, VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT);</div>
<div class="line"><span class="lineno"> 1165</span>                VK_CHECK_RESULT(vkAllocateMemory($device, &amp;memAllocInfo, <span class="keyword">nullptr</span>, &amp;Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#afb927bd9bd951ef23c89566e21f7c4d1">memory</a>));</div>
<div class="line"><span class="lineno"> 1166</span>                VK_CHECK_RESULT(vkBindImageMemory($device, Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">image</a>, Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#afb927bd9bd951ef23c89566e21f7c4d1">memory</a>, 0));</div>
<div class="line"><span class="lineno"> 1167</span>                VK_CHECK_RESULT(vkCreateImageView($device, &amp;depthStencilView, <span class="keyword">nullptr</span>, &amp;Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#aa04c99f88e823b179b792feb8efa3477">view</a>));</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span> </div>
<div class="line"><span class="lineno"> 1170</span>                <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_vvk.html">MIVvk</a>,<a class="code hl_define" href="_images_vk_8h.html#a976170f2f82e7c3099f1c6689854017a">SIZE_MIV</a>).$set$(std::move(Depth), &amp;cvs-&gt;iachDep.hach);</div>
<div class="line"><span class="lineno"> 1171</span>                </div>
<div class="line"><span class="lineno"> 1172</span>                cvs-&gt;iachDep.refCnt++;</div>
<div class="line"><span class="lineno"> 1173</span>                cvs-&gt;iachDep.vkI = Depth.<a class="code hl_variable" href="struct_m_i_vvk.html#aa04c99f88e823b179b792feb8efa3477">view</a>;</div>
<div class="line"><span class="lineno"> 1174</span> </div>
<div class="line"><span class="lineno"> 1175</span>            }</div>
<div class="line"><span class="lineno"> 1176</span>            </div>
<div class="line"><span class="lineno"> 1177</span>            </div>
<div class="line"><span class="lineno"> 1178</span>        }</div>
<div class="line"><span class="lineno"> 1179</span> </div>
<div class="line"><span class="lineno"> 1180</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1181</span> </div>
<div class="line"><span class="lineno"> 1182</span>    };</div>
<div class="ttc" id="a_images_vk_8h_html_a028aff2a2f489739cd0ce52d14e000ad"><div class="ttname"><a href="_images_vk_8h.html#a028aff2a2f489739cd0ce52d14e000ad">log_img</a></div><div class="ttdeci">#define log_img(...)</div><div class="ttdef"><b>Definition:</b> <a href="_images_vk_8h_source.html#l00014">ImagesVk.h:14</a></div></div>
<div class="ttc" id="astruct_m_i_vvk_html_a2243fb75c6ceb05462f32e230ec082b2"><div class="ttname"><a href="struct_m_i_vvk.html#a2243fb75c6ceb05462f32e230ec082b2">MIVvk::image</a></div><div class="ttdeci">VkImage image</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00323">vthreepy_types.h:323</a></div></div>
<div class="ttc" id="astruct_m_i_vvk_html_aa04c99f88e823b179b792feb8efa3477"><div class="ttname"><a href="struct_m_i_vvk.html#aa04c99f88e823b179b792feb8efa3477">MIVvk::view</a></div><div class="ttdeci">VkImageView view</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00324">vthreepy_types.h:324</a></div></div>
<div class="ttc" id="astruct_m_i_vvk_html_ab682fd0a0c5563c4f4c6b6bbb2108f19"><div class="ttname"><a href="struct_m_i_vvk.html#ab682fd0a0c5563c4f4c6b6bbb2108f19">MIVvk::w</a></div><div class="ttdeci">uint32_t w</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00321">vthreepy_types.h:321</a></div></div>
<div class="ttc" id="astruct_m_i_vvk_html_ac0052ca73579122d3ee0b13c10e55bdd"><div class="ttname"><a href="struct_m_i_vvk.html#ac0052ca73579122d3ee0b13c10e55bdd">MIVvk::l</a></div><div class="ttdeci">uint32_t l</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00321">vthreepy_types.h:321</a></div></div>
<div class="ttc" id="astruct_m_i_vvk_html_ae7a99eb12b99ba657d0ef86bebdfe2d1"><div class="ttname"><a href="struct_m_i_vvk.html#ae7a99eb12b99ba657d0ef86bebdfe2d1">MIVvk::Info</a></div><div class="ttdeci">VkDescriptorImageInfo Info</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00325">vthreepy_types.h:325</a></div></div>
<div class="ttc" id="astruct_m_i_vvk_html_af2e329c67524c34dc426d2b001eacfef"><div class="ttname"><a href="struct_m_i_vvk.html#af2e329c67524c34dc426d2b001eacfef">MIVvk::h</a></div><div class="ttdeci">uint32_t h</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00321">vthreepy_types.h:321</a></div></div>
<div class="ttc" id="astruct_m_i_vvk_html_afb927bd9bd951ef23c89566e21f7c4d1"><div class="ttname"><a href="struct_m_i_vvk.html#afb927bd9bd951ef23c89566e21f7c4d1">MIVvk::memory</a></div><div class="ttdeci">VkDeviceMemory memory</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00322">vthreepy_types.h:322</a></div></div>
<div class="ttc" id="astruct_m_i_vvk_html_afff144bdfa5c0e0cda15316621e960a6"><div class="ttname"><a href="struct_m_i_vvk.html#afff144bdfa5c0e0cda15316621e960a6">MIVvk::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00320">vthreepy_types.h:320</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0b2e446e39fb9306822ee7c9acd03de" name="aa0b2e446e39fb9306822ee7c9acd03de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0b2e446e39fb9306822ee7c9acd03de">&#9670;&nbsp;</a></span>create2D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::create2D </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp;&#160;</td>
          <td class="paramname"><em>_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkFormat&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkImageUsageFlags&#160;</td>
          <td class="paramname"><em>flag</em> = <code>VK_IMAGE_USAGE_TRANSFER_DST_BIT&#160;|&#160;VK_IMAGE_USAGE_TRANSFER_SRC_BIT&#160;|&#160;VK_IMAGE_USAGE_SAMPLED_BIT</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkMemoryPropertyFlags&#160;</td>
          <td class="paramname"><em>properties</em> = <code>VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >VK_FORMAT_R8_UNORM;</p>

<p class="definition">Definition at line <a class="el" href="_images_vk_8cpp_source.html#l00074">74</a> of file <a class="el" href="_images_vk_8cpp_source.html">ImagesVk.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   75</span>{</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    VkImageCreateInfo imageInfo{};</div>
<div class="line"><span class="lineno">   78</span>    imageInfo.sType = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO;</div>
<div class="line"><span class="lineno">   79</span>    imageInfo.imageType = VK_IMAGE_TYPE_2D;</div>
<div class="line"><span class="lineno">   80</span>    imageInfo.format = <a class="code hl_define" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>;</div>
<div class="line"><span class="lineno">   81</span>    imageInfo.extent.width = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a>;</div>
<div class="line"><span class="lineno">   82</span>    imageInfo.extent.height = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a>;</div>
<div class="line"><span class="lineno">   83</span>    imageInfo.extent.depth = 1;</div>
<div class="line"><span class="lineno">   84</span>    imageInfo.mipLevels      = 1;</div>
<div class="line"><span class="lineno">   85</span>    imageInfo.arrayLayers = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a>;</div>
<div class="line"><span class="lineno">   86</span>    imageInfo.samples = VK_SAMPLE_COUNT_1_BIT;</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="vthreepy__types_8h.html#a497bc2fce901db395d194b04e1eb5322">properties</a> == 0x1) imageInfo.tiling = VK_IMAGE_TILING_OPTIMAL;</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">else</span> imageInfo.tiling = VK_IMAGE_TILING_LINEAR;</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    imageInfo.usage = flag;</div>
<div class="line"><span class="lineno">   92</span>    imageInfo.sharingMode = VK_SHARING_MODE_EXCLUSIVE;</div>
<div class="line"><span class="lineno">   93</span>    imageInfo.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    VK_CHECK_RESULT(vkCreateImage($device, &amp;imageInfo, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>));</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    vkGetImageMemoryRequirements($device, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>);</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    VkMemoryAllocateInfo allocInfo = vka::plysm::memoryAllocateInfo();</div>
<div class="line"><span class="lineno">  100</span>    allocInfo.allocationSize = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.size;</div>
<div class="line"><span class="lineno">  101</span>    allocInfo.memoryTypeIndex = vka::shelve::getMemoryType(_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.memoryTypeBits, <a class="code hl_define" href="vthreepy__types_8h.html#a497bc2fce901db395d194b04e1eb5322">properties</a>,<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    VK_CHECK_RESULT(vkAllocateMemory($device, &amp;allocInfo, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a24e2cd145ad3e955b73c21945dcaa010">memory</a>));</div>
<div class="line"><span class="lineno">  104</span>    VK_CHECK_RESULT(vkBindImageMemory($device, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a24e2cd145ad3e955b73c21945dcaa010">memory</a>, 0));</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_define" href="_images_vk_8h.html#a028aff2a2f489739cd0ce52d14e000ad">log_img</a>(<span class="stringliteral">&quot;create2D  format  %u   w  %u  h %u   size %zu   \n&quot;</span>, (UINT32)imageInfo.format, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a>, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a>, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.size);</div>
<div class="line"><span class="lineno">  107</span>    </div>
<div class="line"><span class="lineno">  108</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a> = {};</div>
<div class="line"><span class="lineno">  109</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageLayout = VK_IMAGE_LAYOUT_UNDEFINED;</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="vthreepy__types_8h.html#a497bc2fce901db395d194b04e1eb5322">properties</a> == 0x1) {</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>        VkImageViewCreateInfo imageViewInfo = vka::plysm::imageViewCreateInfo();</div>
<div class="line"><span class="lineno">  115</span>        imageViewInfo.image = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>;</div>
<div class="line"><span class="lineno">  116</span>        imageViewInfo.viewType = VK_IMAGE_VIEW_TYPE_2D;</div>
<div class="line"><span class="lineno">  117</span>        imageViewInfo.format = imageInfo.format;</div>
<div class="line"><span class="lineno">  118</span>        imageViewInfo.components = { VK_COMPONENT_SWIZZLE_R, VK_COMPONENT_SWIZZLE_G, VK_COMPONENT_SWIZZLE_B,    VK_COMPONENT_SWIZZLE_A };</div>
<div class="line"><span class="lineno">  119</span>        imageViewInfo.subresourceRange = { VK_IMAGE_ASPECT_COLOR_BIT, 0, 1, 0, 1 };</div>
<div class="line"><span class="lineno">  120</span>        VK_CHECK_RESULT(vkCreateImageView($device, &amp;imageViewInfo, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">view</a>));</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>        VkSamplerCreateInfo samplerInfo = vka::plysm::samplerCreateInfo();</div>
<div class="line"><span class="lineno">  124</span>        samplerInfo.magFilter = VK_FILTER_LINEAR;</div>
<div class="line"><span class="lineno">  125</span>        samplerInfo.minFilter = VK_FILTER_LINEAR;</div>
<div class="line"><span class="lineno">  126</span>        samplerInfo.mipmapMode = VK_SAMPLER_MIPMAP_MODE_LINEAR;</div>
<div class="line"><span class="lineno">  127</span>        samplerInfo.addressModeU = VK_SAMPLER_ADDRESS_MODE_REPEAT;</div>
<div class="line"><span class="lineno">  128</span>        samplerInfo.addressModeV = VK_SAMPLER_ADDRESS_MODE_REPEAT;</div>
<div class="line"><span class="lineno">  129</span>        samplerInfo.addressModeW = VK_SAMPLER_ADDRESS_MODE_REPEAT;</div>
<div class="line"><span class="lineno">  130</span>        samplerInfo.mipLodBias = 0.0f;</div>
<div class="line"><span class="lineno">  131</span>        samplerInfo.compareOp = VK_COMPARE_OP_NEVER;</div>
<div class="line"><span class="lineno">  132</span>        samplerInfo.minLod = 0.0f;</div>
<div class="line"><span class="lineno">  133</span>        samplerInfo.maxLod = 1.0f;</div>
<div class="line"><span class="lineno">  134</span>        samplerInfo.borderColor = VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE;</div>
<div class="line"><span class="lineno">  135</span>        VK_CHECK_RESULT(vkCreateSampler($device, &amp;samplerInfo, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ae7b88f360cd4a5c4b57b4c3c1a4943f5">sampler</a>));</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>        _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.sampler = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ae7b88f360cd4a5c4b57b4c3c1a4943f5">sampler</a>;</div>
<div class="line"><span class="lineno">  140</span>        _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageView = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">view</a>;</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  145</span>};</div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_a2188ebfb4602388e7e203021dbce4627"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">MIVSIvk::Info</a></div><div class="ttdeci">VkDescriptorImageInfo Info</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00229">vthreepy_types.h:229</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_a24e2cd145ad3e955b73c21945dcaa010"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#a24e2cd145ad3e955b73c21945dcaa010">MIVSIvk::memory</a></div><div class="ttdeci">VkDeviceMemory memory</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00225">vthreepy_types.h:225</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_a35d4ce6e0d7ab599429c94a33250d007"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">MIVSIvk::l</a></div><div class="ttdeci">uint32_t l</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00223">vthreepy_types.h:223</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_a67ce8569b1465905e0df7284883b8e6a"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">MIVSIvk::memReqs</a></div><div class="ttdeci">VkMemoryRequirements memReqs</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00224">vthreepy_types.h:224</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_a98a6348c2fdb43469c8242d6e3f2d18d"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">MIVSIvk::h</a></div><div class="ttdeci">uint32_t h</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00223">vthreepy_types.h:223</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_a9e6717e0eec79418bf88420157b76b86"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">MIVSIvk::view</a></div><div class="ttdeci">VkImageView view</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00227">vthreepy_types.h:227</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_aba3785a01b587f43d63dd586c369a14f"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">MIVSIvk::image</a></div><div class="ttdeci">VkImage image</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00226">vthreepy_types.h:226</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_ad9ed4829f12fa3c31497c86182932829"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">MIVSIvk::w</a></div><div class="ttdeci">uint32_t w</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00223">vthreepy_types.h:223</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_ae7b88f360cd4a5c4b57b4c3c1a4943f5"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#ae7b88f360cd4a5c4b57b4c3c1a4943f5">MIVSIvk::sampler</a></div><div class="ttdeci">VkSampler sampler</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00228">vthreepy_types.h:228</a></div></div>
<div class="ttc" id="avthreepy__types_8h_html_a497bc2fce901db395d194b04e1eb5322"><div class="ttname"><a href="vthreepy__types_8h.html#a497bc2fce901db395d194b04e1eb5322">properties</a></div><div class="ttdeci">#define properties</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00120">vthreepy_types.h:120</a></div></div>
<div class="ttc" id="avthreepy__types_8h_html_aed0733c19ea8a53037c90f6ca07a5a88"><div class="ttname"><a href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a></div><div class="ttdeci">#define format</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00119">vthreepy_types.h:119</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96a65a9a7f47522a7cad2d9389681602" name="a96a65a9a7f47522a7cad2d9389681602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a65a9a7f47522a7cad2d9389681602">&#9670;&nbsp;</a></span>create2DArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::create2DArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp;&#160;</td>
          <td class="paramname"><em>_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkFormat&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8cpp_source.html#l00147">147</a> of file <a class="el" href="_images_vk_8cpp_source.html">ImagesVk.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  147</span>                                                        {</div>
<div class="line"><span class="lineno">  148</span>    <span class="comment">// Create optimal tiled target image</span></div>
<div class="line"><span class="lineno">  149</span>    VkImageCreateInfo imageCreateInfo = vka::plysm::imageCreateInfo();</div>
<div class="line"><span class="lineno">  150</span>    imageCreateInfo.imageType = VK_IMAGE_TYPE_2D;</div>
<div class="line"><span class="lineno">  151</span>    imageCreateInfo.format = <a class="code hl_define" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>;</div>
<div class="line"><span class="lineno">  152</span>    imageCreateInfo.mipLevels = 1;</div>
<div class="line"><span class="lineno">  153</span>    imageCreateInfo.samples = VK_SAMPLE_COUNT_1_BIT;</div>
<div class="line"><span class="lineno">  154</span>    imageCreateInfo.tiling = VK_IMAGE_TILING_OPTIMAL;</div>
<div class="line"><span class="lineno">  155</span>    imageCreateInfo.sharingMode = VK_SHARING_MODE_EXCLUSIVE;</div>
<div class="line"><span class="lineno">  156</span>    imageCreateInfo.initialLayout =  VK_IMAGE_LAYOUT_UNDEFINED;</div>
<div class="line"><span class="lineno">  157</span>    imageCreateInfo.extent = { _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a>,_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a>, 1 };</div>
<div class="line"><span class="lineno">  158</span>    imageCreateInfo.usage = VK_IMAGE_USAGE_TRANSFER_DST_BIT | VK_IMAGE_USAGE_SAMPLED_BIT;</div>
<div class="line"><span class="lineno">  159</span>    imageCreateInfo.arrayLayers = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a>;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    VK_CHECK_RESULT(vkCreateImage($device, &amp;imageCreateInfo, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>));</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    vkGetImageMemoryRequirements($device, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>);</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    VkMemoryAllocateInfo allocInfo = vka::plysm::memoryAllocateInfo();</div>
<div class="line"><span class="lineno">  166</span>    allocInfo.allocationSize = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.size;</div>
<div class="line"><span class="lineno">  167</span>    allocInfo.memoryTypeIndex = vka::shelve::getMemoryType(_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.memoryTypeBits, VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_define" href="_images_vk_8h.html#a028aff2a2f489739cd0ce52d14e000ad">log_img</a>(<span class="stringliteral">&quot;Bridge Test ==&gt;&gt;   NUMS == 0  generate memory    Size %zu   TypeBits  %u     TypeIndex  %u \n&quot;</span>, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.size, (uint32_t)_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.memoryTypeBits, allocInfo.memoryTypeIndex);</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    VK_CHECK_RESULT(vkAllocateMemory($device, &amp;allocInfo, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a24e2cd145ad3e955b73c21945dcaa010">memory</a>));</div>
<div class="line"><span class="lineno">  171</span>    VK_CHECK_RESULT(vkBindImageMemory($device, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a24e2cd145ad3e955b73c21945dcaa010">memory</a>, 0));</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>    VkSamplerCreateInfo sampler = vka::plysm::samplerCreateInfo();</div>
<div class="line"><span class="lineno">  175</span>    sampler.magFilter = VK_FILTER_LINEAR;</div>
<div class="line"><span class="lineno">  176</span>    sampler.minFilter = VK_FILTER_LINEAR;</div>
<div class="line"><span class="lineno">  177</span>    sampler.mipmapMode = VK_SAMPLER_MIPMAP_MODE_LINEAR;</div>
<div class="line"><span class="lineno">  178</span>    sampler.addressModeU = VK_SAMPLER_ADDRESS_MODE_REPEAT;<span class="comment">// VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE;</span></div>
<div class="line"><span class="lineno">  179</span>    sampler.addressModeV = sampler.addressModeU;</div>
<div class="line"><span class="lineno">  180</span>    sampler.addressModeW = sampler.addressModeU;</div>
<div class="line"><span class="lineno">  181</span>    sampler.mipLodBias = 0.0f;</div>
<div class="line"><span class="lineno">  182</span>    sampler.maxAnisotropy = 8;</div>
<div class="line"><span class="lineno">  183</span>    sampler.compareOp = VK_COMPARE_OP_NEVER;</div>
<div class="line"><span class="lineno">  184</span>    sampler.minLod = 0.0f;</div>
<div class="line"><span class="lineno">  185</span>    sampler.maxLod = 0.0f;</div>
<div class="line"><span class="lineno">  186</span>    sampler.borderColor = VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE;</div>
<div class="line"><span class="lineno">  187</span>    VK_CHECK_RESULT(vkCreateSampler($device, &amp;sampler, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ae7b88f360cd4a5c4b57b4c3c1a4943f5">sampler</a>));</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>    VkImageViewCreateInfo view = vka::plysm::imageViewCreateInfo();</div>
<div class="line"><span class="lineno">  191</span>    view.viewType = VK_IMAGE_VIEW_TYPE_2D_ARRAY;</div>
<div class="line"><span class="lineno">  192</span>    view.format = <a class="code hl_define" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>;</div>
<div class="line"><span class="lineno">  193</span>    view.components = { VK_COMPONENT_SWIZZLE_R, VK_COMPONENT_SWIZZLE_G, VK_COMPONENT_SWIZZLE_B, VK_COMPONENT_SWIZZLE_A };</div>
<div class="line"><span class="lineno">  194</span>    view.subresourceRange = { VK_IMAGE_ASPECT_COLOR_BIT, 0, 1, 0, 1 };</div>
<div class="line"><span class="lineno">  195</span>    view.subresourceRange.layerCount = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a>;</div>
<div class="line"><span class="lineno">  196</span>    view.subresourceRange.levelCount = 1;</div>
<div class="line"><span class="lineno">  197</span>    view.image = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>;</div>
<div class="line"><span class="lineno">  198</span>    VK_CHECK_RESULT(vkCreateImageView($device, &amp;view, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">view</a>));</div>
<div class="line"><span class="lineno">  199</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a> = {};</div>
<div class="line"><span class="lineno">  200</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.sampler = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ae7b88f360cd4a5c4b57b4c3c1a4943f5">sampler</a>;</div>
<div class="line"><span class="lineno">  201</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageView = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">view</a>;</div>
<div class="line"><span class="lineno">  202</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageLayout = VK_IMAGE_LAYOUT_UNDEFINED;</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="aab722003ad259aa64757a8b34e5bab0d" name="aab722003ad259aa64757a8b34e5bab0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab722003ad259aa64757a8b34e5bab0d">&#9670;&nbsp;</a></span>create2DStorageArray()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class <a class="el" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::create2DStorageArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a> &amp;&#160;</td>
          <td class="paramname"><em>_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkFormat&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00709">709</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  709</span>                                                       {</div>
<div class="line"><span class="lineno">  710</span>       </div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>        VkImageCreateInfo imageCreateInfo = vka::plysm::imageCreateInfo();</div>
<div class="line"><span class="lineno">  713</span>        imageCreateInfo.imageType = VK_IMAGE_TYPE_2D;</div>
<div class="line"><span class="lineno">  714</span>        imageCreateInfo.format = <a class="code hl_define" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>;</div>
<div class="line"><span class="lineno">  715</span>        imageCreateInfo.mipLevels = 1;</div>
<div class="line"><span class="lineno">  716</span>        imageCreateInfo.samples = VK_SAMPLE_COUNT_1_BIT;</div>
<div class="line"><span class="lineno">  717</span>        imageCreateInfo.tiling = VK_IMAGE_TILING_OPTIMAL;</div>
<div class="line"><span class="lineno">  718</span>        imageCreateInfo.sharingMode = VK_SHARING_MODE_EXCLUSIVE;</div>
<div class="line"><span class="lineno">  719</span>        imageCreateInfo.initialLayout = VK_IMAGE_LAYOUT_UNDEFINED;</div>
<div class="line"><span class="lineno">  720</span>        imageCreateInfo.extent = { _.w,_.h, 1 };</div>
<div class="line"><span class="lineno">  721</span>        imageCreateInfo.usage = VK_IMAGE_USAGE_TRANSFER_DST_BIT | VK_IMAGE_USAGE_SAMPLED_BIT | VK_IMAGE_USAGE_STORAGE_BIT;</div>
<div class="line"><span class="lineno">  722</span>        imageCreateInfo.arrayLayers = _.l;</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>        VK_CHECK_RESULT(vkCreateImage($device, &amp;imageCreateInfo, <span class="keyword">nullptr</span>, &amp;_.image));</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>        vkGetImageMemoryRequirements($device, _.image, &amp;_.memReqs);</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>        VkMemoryAllocateInfo allocInfo = vka::plysm::memoryAllocateInfo();</div>
<div class="line"><span class="lineno">  729</span>        allocInfo.allocationSize = _.memReqs.size;</div>
<div class="line"><span class="lineno">  730</span>        allocInfo.memoryTypeIndex = vka::shelve::getMemoryType(_.memReqs.memoryTypeBits, VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  731</span>        <a class="code hl_define" href="_images_vk_8h.html#a028aff2a2f489739cd0ce52d14e000ad">log_img</a>(<span class="stringliteral">&quot;Bridge Test ==&gt;&gt;   NUMS == 0  generate memory    Size %zu   TypeBits  %u     TypeIndex  %u \n&quot;</span>, _.memReqs.size, (uint32_t)_.memReqs.memoryTypeBits, allocInfo.memoryTypeIndex);</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>        VK_CHECK_RESULT(vkAllocateMemory($device, &amp;allocInfo, <span class="keyword">nullptr</span>, &amp;_.memory));</div>
<div class="line"><span class="lineno">  734</span>        VK_CHECK_RESULT(vkBindImageMemory($device, _.image, _.memory, 0));</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>        VkSamplerCreateInfo sampler = vka::plysm::samplerCreateInfo();</div>
<div class="line"><span class="lineno">  740</span>        sampler.magFilter = VK_FILTER_LINEAR;</div>
<div class="line"><span class="lineno">  741</span>        sampler.minFilter = VK_FILTER_LINEAR;</div>
<div class="line"><span class="lineno">  742</span>        sampler.mipmapMode = VK_SAMPLER_MIPMAP_MODE_LINEAR;</div>
<div class="line"><span class="lineno">  743</span>        sampler.addressModeU = VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_BORDER;</div>
<div class="line"><span class="lineno">  744</span>        sampler.addressModeV = sampler.addressModeU;</div>
<div class="line"><span class="lineno">  745</span>        sampler.addressModeW = sampler.addressModeU;</div>
<div class="line"><span class="lineno">  746</span>        sampler.mipLodBias = 0.0f;</div>
<div class="line"><span class="lineno">  747</span>        sampler.maxAnisotropy = 8;</div>
<div class="line"><span class="lineno">  748</span>        sampler.compareOp = VK_COMPARE_OP_NEVER;</div>
<div class="line"><span class="lineno">  749</span>        sampler.minLod = 0.0f;</div>
<div class="line"><span class="lineno">  750</span>        sampler.maxLod = 0.0f;</div>
<div class="line"><span class="lineno">  751</span>        sampler.borderColor = VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE;</div>
<div class="line"><span class="lineno">  752</span>        VK_CHECK_RESULT(vkCreateSampler($device, &amp;sampler, <span class="keyword">nullptr</span>, &amp;_.sampler));</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>        VkImageViewCreateInfo view = vka::plysm::imageViewCreateInfo();</div>
<div class="line"><span class="lineno">  756</span>        view.viewType = VK_IMAGE_VIEW_TYPE_2D_ARRAY;</div>
<div class="line"><span class="lineno">  757</span>        view.format = <a class="code hl_define" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>;</div>
<div class="line"><span class="lineno">  758</span>        view.components = { VK_COMPONENT_SWIZZLE_R, VK_COMPONENT_SWIZZLE_G, VK_COMPONENT_SWIZZLE_B, VK_COMPONENT_SWIZZLE_A };</div>
<div class="line"><span class="lineno">  759</span>        view.subresourceRange = { VK_IMAGE_ASPECT_COLOR_BIT, 0, 1, 0, 1 };</div>
<div class="line"><span class="lineno">  760</span>        view.subresourceRange.layerCount = _.l;</div>
<div class="line"><span class="lineno">  761</span>        view.subresourceRange.levelCount = 1;</div>
<div class="line"><span class="lineno">  762</span>        view.image = _.image;</div>
<div class="line"><span class="lineno">  763</span>        VK_CHECK_RESULT(vkCreateImageView($device, &amp;view, <span class="keyword">nullptr</span>, &amp;_.view));</div>
<div class="line"><span class="lineno">  764</span> </div>
<div class="line"><span class="lineno">  765</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  766</span>    };</div>
</div><!-- fragment -->
</div>
</div>
<a id="adfd35203707ae19c4129f6f4e15c090c" name="adfd35203707ae19c4129f6f4e15c090c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd35203707ae19c4129f6f4e15c090c">&#9670;&nbsp;</a></span>createCubeMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::createCubeMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp;&#160;</td>
          <td class="paramname"><em>_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkFormat&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >VK_FORMAT_R8_UNORM;</p>

<p class="definition">Definition at line <a class="el" href="_images_vk_8cpp_source.html#l00207">207</a> of file <a class="el" href="_images_vk_8cpp_source.html">ImagesVk.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  207</span>                                                        {</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    VkImageCreateInfo imageInfo{};</div>
<div class="line"><span class="lineno">  210</span>    imageInfo.sType = VK_STRUCTURE_TYPE_IMAGE_CREATE_INFO;</div>
<div class="line"><span class="lineno">  211</span>    imageInfo.imageType = VK_IMAGE_TYPE_2D;</div>
<div class="line"><span class="lineno">  212</span>    imageInfo.format = <a class="code hl_define" href="vthreepy__types_8h.html#aed0733c19ea8a53037c90f6ca07a5a88">format</a>;</div>
<div class="line"><span class="lineno">  213</span>    imageInfo.extent.width = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a>;</div>
<div class="line"><span class="lineno">  214</span>    imageInfo.extent.height = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a>;</div>
<div class="line"><span class="lineno">  215</span>    imageInfo.extent.depth = 1;</div>
<div class="line"><span class="lineno">  216</span>    imageInfo.mipLevels = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a88f61315e0cb72d7a38f4c0341f3c646">mipLevel</a>;</div>
<div class="line"><span class="lineno">  217</span>    imageInfo.arrayLayers = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a>;</div>
<div class="line"><span class="lineno">  218</span>    imageInfo.samples = VK_SAMPLE_COUNT_1_BIT;</div>
<div class="line"><span class="lineno">  219</span>    imageInfo.tiling = VK_IMAGE_TILING_OPTIMAL;</div>
<div class="line"><span class="lineno">  220</span>    imageInfo.usage = VK_IMAGE_USAGE_TRANSFER_DST_BIT | VK_IMAGE_USAGE_TRANSFER_SRC_BIT | VK_IMAGE_USAGE_SAMPLED_BIT;</div>
<div class="line"><span class="lineno">  221</span>    imageInfo.sharingMode = VK_SHARING_MODE_EXCLUSIVE;</div>
<div class="line"><span class="lineno">  222</span>    imageInfo.flags = VK_IMAGE_CREATE_CUBE_COMPATIBLE_BIT;</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    VK_CHECK_RESULT(vkCreateImage($device, &amp;imageInfo, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>));</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>    vkGetImageMemoryRequirements($device, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>);</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    VkMemoryAllocateInfo allocInfo = vka::plysm::memoryAllocateInfo();</div>
<div class="line"><span class="lineno">  230</span>    allocInfo.allocationSize        = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.size;</div>
<div class="line"><span class="lineno">  231</span>    allocInfo.memoryTypeIndex = vka::shelve::getMemoryType(_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.memoryTypeBits, VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    VK_CHECK_RESULT(vkAllocateMemory($device, &amp;allocInfo, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a24e2cd145ad3e955b73c21945dcaa010">memory</a>));</div>
<div class="line"><span class="lineno">  234</span>    VK_CHECK_RESULT(vkBindImageMemory($device, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a24e2cd145ad3e955b73c21945dcaa010">memory</a>, 0));</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_define" href="_images_vk_8h.html#a028aff2a2f489739cd0ce52d14e000ad">log_img</a>(<span class="stringliteral">&quot;createCubemap  format  %u   w  %u  h %u   size %zu   \n&quot;</span>, (UINT32)imageInfo.format, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a>, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a>, _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a67ce8569b1465905e0df7284883b8e6a">memReqs</a>.size);</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    VkSamplerCreateInfo sampler = vka::plysm::samplerCreateInfo();</div>
<div class="line"><span class="lineno">  239</span>    sampler.magFilter = VK_FILTER_LINEAR;</div>
<div class="line"><span class="lineno">  240</span>    sampler.minFilter = VK_FILTER_LINEAR;</div>
<div class="line"><span class="lineno">  241</span>    sampler.mipmapMode = VK_SAMPLER_MIPMAP_MODE_LINEAR;</div>
<div class="line"><span class="lineno">  242</span>    sampler.addressModeU = VK_SAMPLER_ADDRESS_MODE_CLAMP_TO_EDGE;</div>
<div class="line"><span class="lineno">  243</span>    sampler.addressModeV = sampler.addressModeU;</div>
<div class="line"><span class="lineno">  244</span>    sampler.addressModeW = sampler.addressModeU;</div>
<div class="line"><span class="lineno">  245</span>    sampler.mipLodBias = 0.0f;</div>
<div class="line"><span class="lineno">  246</span>    sampler.compareOp = VK_COMPARE_OP_NEVER;</div>
<div class="line"><span class="lineno">  247</span>    sampler.minLod = 0.0f;</div>
<div class="line"><span class="lineno">  248</span>    sampler.maxLod =float( _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a88f61315e0cb72d7a38f4c0341f3c646">mipLevel</a>);</div>
<div class="line"><span class="lineno">  249</span>    sampler.borderColor = VK_BORDER_COLOR_FLOAT_OPAQUE_WHITE;</div>
<div class="line"><span class="lineno">  250</span>    sampler.maxAnisotropy = 1.0f;</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">if</span> ($features.samplerAnisotropy)</div>
<div class="line"><span class="lineno">  253</span>    {</div>
<div class="line"><span class="lineno">  254</span>        sampler.maxAnisotropy = $properties.limits.maxSamplerAnisotropy;</div>
<div class="line"><span class="lineno">  255</span>        sampler.anisotropyEnable = VK_TRUE;</div>
<div class="line"><span class="lineno">  256</span>    }</div>
<div class="line"><span class="lineno">  257</span>    VK_CHECK_RESULT(vkCreateSampler($device, &amp;sampler, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ae7b88f360cd4a5c4b57b4c3c1a4943f5">sampler</a>));</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    VkImageViewCreateInfo imageViewInfo = vka::plysm::imageViewCreateInfo();</div>
<div class="line"><span class="lineno">  262</span>    imageViewInfo.image = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#aba3785a01b587f43d63dd586c369a14f">image</a>;</div>
<div class="line"><span class="lineno">  263</span>    imageViewInfo.viewType = VK_IMAGE_VIEW_TYPE_CUBE;</div>
<div class="line"><span class="lineno">  264</span>    imageViewInfo.format = imageInfo.format;</div>
<div class="line"><span class="lineno">  265</span>    imageViewInfo.components = { VK_COMPONENT_SWIZZLE_R, VK_COMPONENT_SWIZZLE_G, VK_COMPONENT_SWIZZLE_B,    VK_COMPONENT_SWIZZLE_A };</div>
<div class="line"><span class="lineno">  266</span>    imageViewInfo.subresourceRange = { VK_IMAGE_ASPECT_COLOR_BIT, 0, 1, 0, 1 };</div>
<div class="line"><span class="lineno">  267</span>    imageViewInfo.subresourceRange.layerCount = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a>;</div>
<div class="line"><span class="lineno">  268</span>    <span class="comment">// Set number of mip levels</span></div>
<div class="line"><span class="lineno">  269</span>    imageViewInfo.subresourceRange.levelCount = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a88f61315e0cb72d7a38f4c0341f3c646">mipLevel</a>;</div>
<div class="line"><span class="lineno">  270</span>    VK_CHECK_RESULT(vkCreateImageView($device, &amp;imageViewInfo, <span class="keyword">nullptr</span>, &amp;_.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">view</a>));</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a> = {};</div>
<div class="line"><span class="lineno">  274</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.sampler = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ae7b88f360cd4a5c4b57b4c3c1a4943f5">sampler</a>;</div>
<div class="line"><span class="lineno">  275</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageView = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">view</a>;</div>
<div class="line"><span class="lineno">  276</span>    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageLayout = VK_IMAGE_LAYOUT_UNDEFINED;</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  279</span>};</div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_a88f61315e0cb72d7a38f4c0341f3c646"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#a88f61315e0cb72d7a38f4c0341f3c646">MIVSIvk::mipLevel</a></div><div class="ttdeci">uint32_t mipLevel</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00223">vthreepy_types.h:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f31deac8321b6fc9055029d308c4a6c" name="a6f31deac8321b6fc9055029d308c4a6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f31deac8321b6fc9055029d308c4a6c">&#9670;&nbsp;</a></span>createCubeMapFromKtx()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::createCubeMapFromKtx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>cmder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_iache.html">Iache</a> &amp;&#160;</td>
          <td class="paramname"><em>iach</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00769">769</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  770</span>    {</div>
<div class="line"><span class="lineno">  771</span>        <a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>  miv;</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>        <span class="keywordflow">if</span> (!(<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>, <a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$get(miv, &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>))) {</div>
<div class="line"><span class="lineno">  774</span>            ktxResult result;</div>
<div class="line"><span class="lineno">  775</span>            ktxTexture* ktxTexture;</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>            iach.<a class="code hl_variable" href="struct_iache.html#a211d2448feb67247eb5a3842894f381a">name</a>  = IMAGE_PATH + iach.<a class="code hl_variable" href="struct_iache.html#a211d2448feb67247eb5a3842894f381a">name</a>;</div>
<div class="line"><span class="lineno">  778</span>            <span class="keywordflow">if</span> (!vka::shelve::fileExists(iach.<a class="code hl_variable" href="struct_iache.html#a211d2448feb67247eb5a3842894f381a">name</a>)) {</div>
<div class="line"><span class="lineno">  779</span>                log_bad(<span class="stringliteral">&quot;Could not load texture from  %s \n\nThe file may be part of the additional asset pack.\n\nRun \&quot;download_assets.py\&quot; in the repository root to download the latest version.&quot;</span>, iach.<a class="code hl_variable" href="struct_iache.html#a211d2448feb67247eb5a3842894f381a">name</a>.c_str());</div>
<div class="line"><span class="lineno">  780</span>            }</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>            result = ktxTexture_CreateFromNamedFile(iach.<a class="code hl_variable" href="struct_iache.html#a211d2448feb67247eb5a3842894f381a">name</a>.c_str(), KTX_TEXTURE_CREATE_LOAD_IMAGE_DATA_BIT, &amp;ktxTexture);</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>            assert(result == KTX_SUCCESS);</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>            <span class="comment">// Get properties required for using and upload texture data from the ktx texture object</span></div>
<div class="line"><span class="lineno">  787</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> = ktxTexture-&gt;baseWidth;</div>
<div class="line"><span class="lineno">  788</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> = ktxTexture-&gt;baseHeight;</div>
<div class="line"><span class="lineno">  789</span>            <span class="comment">//ktxTexture-&gt;numLevels = 1;</span></div>
<div class="line"><span class="lineno">  790</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a> = 6;</div>
<div class="line"><span class="lineno">  791</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a88f61315e0cb72d7a38f4c0341f3c646">mipLevel</a> = ktxTexture-&gt;numLevels;</div>
<div class="line"><span class="lineno">  792</span>            ktx_uint8_t* ktxTextureData = ktxTexture_GetData(ktxTexture);</div>
<div class="line"><span class="lineno">  793</span>            ktx_size_t ktxTextureSize = ktxTexture_GetSize(ktxTexture);</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2124d6fe9071cd2fd9dc57ed53571a03">size</a> = ktxTextureSize;</div>
<div class="line"><span class="lineno">  796</span>            <a class="code hl_function" href="struct_images_vk.html#adfd35203707ae19c4129f6f4e15c090c">createCubeMap</a>(miv, iach.<a class="code hl_variable" href="struct_iache.html#ac25874ed6164a9fe7f24dafa86aabc16">format</a>);</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>            std::vector&lt;VkBufferImageCopy&gt; bufferCopyRegions;</div>
<div class="line"><span class="lineno">  800</span>    </div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span>            <span class="keywordflow">for</span> (uint32_t face = 0; face &lt; 6; face++)</div>
<div class="line"><span class="lineno">  803</span>            {</div>
<div class="line"><span class="lineno">  804</span>                <span class="keywordflow">for</span> (uint32_t level = 0; level &lt; miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a88f61315e0cb72d7a38f4c0341f3c646">mipLevel</a>; level++)</div>
<div class="line"><span class="lineno">  805</span>                {</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>                    ktx_size_t offset;</div>
<div class="line"><span class="lineno">  808</span>                    KTX_error_code ret = ktxTexture_GetImageOffset(ktxTexture, level, 0, face, &amp;offset);</div>
<div class="line"><span class="lineno">  809</span>                    assert(ret == KTX_SUCCESS);</div>
<div class="line"><span class="lineno">  810</span>                    VkBufferImageCopy bufferCopyRegion = {};</div>
<div class="line"><span class="lineno">  811</span>                    bufferCopyRegion.imageSubresource.aspectMask = VK_IMAGE_ASPECT_COLOR_BIT;</div>
<div class="line"><span class="lineno">  812</span>                    bufferCopyRegion.imageSubresource.mipLevel = level;</div>
<div class="line"><span class="lineno">  813</span>                    bufferCopyRegion.imageSubresource.baseArrayLayer = face;</div>
<div class="line"><span class="lineno">  814</span>                    bufferCopyRegion.imageSubresource.layerCount = 1;</div>
<div class="line"><span class="lineno">  815</span>                    bufferCopyRegion.imageExtent.width = ktxTexture-&gt;baseWidth &gt;&gt; level;</div>
<div class="line"><span class="lineno">  816</span>                    bufferCopyRegion.imageExtent.height = ktxTexture-&gt;baseHeight &gt;&gt; level;</div>
<div class="line"><span class="lineno">  817</span>                    bufferCopyRegion.imageExtent.depth = 1;</div>
<div class="line"><span class="lineno">  818</span>                    bufferCopyRegion.bufferOffset = offset;</div>
<div class="line"><span class="lineno">  819</span>                    bufferCopyRegions.push_back(bufferCopyRegion);</div>
<div class="line"><span class="lineno">  820</span>                }</div>
<div class="line"><span class="lineno">  821</span>            }</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageLayout = VK_IMAGE_LAYOUT_UNDEFINED;</div>
<div class="line"><span class="lineno">  824</span>            cmder.<a class="code hl_function" href="struct_immidiate_cmd.html#a1797089d99f649c2d8f782ccc11ebbc9">bridgeMap</a>(miv, ktxTextureData, bufferCopyRegions, VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL);</div>
<div class="line"><span class="lineno">  825</span>            </div>
<div class="line"><span class="lineno">  826</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.sampler     = miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ae7b88f360cd4a5c4b57b4c3c1a4943f5">sampler</a>;</div>
<div class="line"><span class="lineno">  827</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageView = miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">view</a>;</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>            <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>, <a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$set$(std::move(miv), &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>);</div>
<div class="line"><span class="lineno">  830</span>            iach.<a class="code hl_variable" href="struct_iache.html#ab44ae9de1741098aa1f15567607fcb0f">refCnt</a>++;</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>            ktxTexture_Destroy(ktxTexture);</div>
<div class="line"><span class="lineno">  833</span>        }</div>
<div class="line"><span class="lineno">  834</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  835</span>    }</div>
<div class="ttc" id="astruct_iache_html_a211d2448feb67247eb5a3842894f381a"><div class="ttname"><a href="struct_iache.html#a211d2448feb67247eb5a3842894f381a">Iache::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="incomplete_8h_source.html#l00056">incomplete.h:56</a></div></div>
<div class="ttc" id="astruct_iache_html_ab44ae9de1741098aa1f15567607fcb0f"><div class="ttname"><a href="struct_iache.html#ab44ae9de1741098aa1f15567607fcb0f">Iache::refCnt</a></div><div class="ttdeci">long refCnt</div><div class="ttdef"><b>Definition:</b> <a href="incomplete_8h_source.html#l00052">incomplete.h:52</a></div></div>
<div class="ttc" id="astruct_iache_html_ac25874ed6164a9fe7f24dafa86aabc16"><div class="ttname"><a href="struct_iache.html#ac25874ed6164a9fe7f24dafa86aabc16">Iache::format</a></div><div class="ttdeci">VkFormat format</div><div class="ttdef"><b>Definition:</b> <a href="incomplete_8h_source.html#l00048">incomplete.h:48</a></div></div>
<div class="ttc" id="astruct_iache_html_ad3970065f6f0cebebce27a8ec49f5a78"><div class="ttname"><a href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">Iache::hach</a></div><div class="ttdeci">Hache hach</div><div class="ttdef"><b>Definition:</b> <a href="incomplete_8h_source.html#l00054">incomplete.h:54</a></div></div>
<div class="ttc" id="astruct_images_vk_html_adfd35203707ae19c4129f6f4e15c090c"><div class="ttname"><a href="struct_images_vk.html#adfd35203707ae19c4129f6f4e15c090c">ImagesVk::createCubeMap</a></div><div class="ttdeci">bool createCubeMap(MIVSIvk &amp;_, VkFormat format)</div><div class="ttdef"><b>Definition:</b> <a href="_images_vk_8cpp_source.html#l00207">ImagesVk.cpp:207</a></div></div>
<div class="ttc" id="astruct_immidiate_cmd_html_a1797089d99f649c2d8f782ccc11ebbc9"><div class="ttname"><a href="struct_immidiate_cmd.html#a1797089d99f649c2d8f782ccc11ebbc9">ImmidiateCmd::bridgeMap</a></div><div class="ttdeci">bool bridgeMap(MIVSIvk &amp;_, void *src, VkImageLayout X)</div><div class="ttdef"><b>Definition:</b> <a href="_cmd_pool_vk_8cpp_source.html#l00352">CmdPoolVk.cpp:352</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_a2124d6fe9071cd2fd9dc57ed53571a03"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#a2124d6fe9071cd2fd9dc57ed53571a03">MIVSIvk::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00222">vthreepy_types.h:222</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1cdea9da7c221aca9b6101449020092" name="ac1cdea9da7c221aca9b6101449020092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1cdea9da7c221aca9b6101449020092">&#9670;&nbsp;</a></span>createFromFile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::createFromFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>cmder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_iache.html">Iache</a> &amp;&#160;</td>
          <td class="paramname"><em>iach</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >create2D(_, VK_FORMAT_R32G32B32A32_SFLOAT); cmder.bridgeMap(_, (char*)loader.images-&gt;packed, VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL);</p>
<p >VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL);</p>

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00896">896</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  896</span>                                                                            {</div>
<div class="line"><span class="lineno">  897</span> </div>
<div class="line"><span class="lineno">  898</span>        <a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>   _;</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>        <span class="keywordflow">if</span> (!(<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>,<a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$get(_, &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>))) {</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>            std::string name = IMAGE_PATH + key;</div>
<div class="line"><span class="lineno">  903</span>            log_once(<span class="stringliteral">&quot;Image Loading...... %s    \n&quot;</span>, (name).c_str());</div>
<div class="line"><span class="lineno">  904</span> </div>
<div class="line"><span class="lineno">  905</span>            ktx::loadmap loader;</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span>            <span class="keywordflow">if</span> (ktx::Flags::Error == loader.load(name.c_str())) {</div>
<div class="line"><span class="lineno">  908</span>                log_bad(<span class="stringliteral">&quot;stb Load %s    \n&quot;</span>, (name).c_str());</div>
<div class="line"><span class="lineno">  909</span>            };</div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> = loader.images-&gt;w;</div>
<div class="line"><span class="lineno">  912</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> = loader.images-&gt;h;</div>
<div class="line"><span class="lineno">  913</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a3ca026e2880c5d312f7145176f767810">c</a> = 4;</div>
<div class="line"><span class="lineno">  914</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a> = 1;</div>
<div class="line"><span class="lineno">  915</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2124d6fe9071cd2fd9dc57ed53571a03">size</a> = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a3ca026e2880c5d312f7145176f767810">c</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a>;</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>            <a class="code hl_function" href="struct_images_vk.html#aa0b2e446e39fb9306822ee7c9acd03de">create2D</a>(_, iach.<a class="code hl_variable" href="struct_iache.html#ac25874ed6164a9fe7f24dafa86aabc16">format</a>);</div>
<div class="line"><span class="lineno">  920</span>            cmder.<a class="code hl_function" href="struct_immidiate_cmd.html#a1797089d99f649c2d8f782ccc11ebbc9">bridgeMap</a>(_, (<span class="keywordtype">char</span>*)loader.images-&gt;packed, iach.<a class="code hl_variable" href="struct_iache.html#a30425b4efcd1f91788953b1da44b8b72">layout</a>);</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>            <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>,<a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$set$(std::move(_), &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>);</div>
<div class="line"><span class="lineno">  923</span>            iach.<a class="code hl_variable" href="struct_iache.html#ab44ae9de1741098aa1f15567607fcb0f">refCnt</a>++;</div>
<div class="line"><span class="lineno">  924</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  925</span>        }</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>    };</div>
<div class="ttc" id="astruct_iache_html_a30425b4efcd1f91788953b1da44b8b72"><div class="ttname"><a href="struct_iache.html#a30425b4efcd1f91788953b1da44b8b72">Iache::layout</a></div><div class="ttdeci">VkImageLayout layout</div><div class="ttdef"><b>Definition:</b> <a href="incomplete_8h_source.html#l00050">incomplete.h:50</a></div></div>
<div class="ttc" id="astruct_images_vk_html_aa0b2e446e39fb9306822ee7c9acd03de"><div class="ttname"><a href="struct_images_vk.html#aa0b2e446e39fb9306822ee7c9acd03de">ImagesVk::create2D</a></div><div class="ttdeci">bool create2D(MIVSIvk &amp;_, VkFormat format, VkImageUsageFlags flag=VK_IMAGE_USAGE_TRANSFER_DST_BIT|VK_IMAGE_USAGE_TRANSFER_SRC_BIT|VK_IMAGE_USAGE_SAMPLED_BIT, VkMemoryPropertyFlags properties=VK_MEMORY_PROPERTY_DEVICE_LOCAL_BIT)</div><div class="ttdef"><b>Definition:</b> <a href="_images_vk_8cpp_source.html#l00074">ImagesVk.cpp:74</a></div></div>
<div class="ttc" id="astruct_m_i_v_s_ivk_html_a3ca026e2880c5d312f7145176f767810"><div class="ttname"><a href="struct_m_i_v_s_ivk.html#a3ca026e2880c5d312f7145176f767810">MIVSIvk::c</a></div><div class="ttdeci">uint32_t c</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00223">vthreepy_types.h:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4385349e0f837c4552cec0e29960d66e" name="a4385349e0f837c4552cec0e29960d66e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4385349e0f837c4552cec0e29960d66e">&#9670;&nbsp;</a></span>createFromFiles()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::createFromFiles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>cmder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>keys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_iache.html">Iache</a> &amp;&#160;</td>
          <td class="paramname"><em>iach</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL);</p>

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00932">932</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  932</span>                                                                                         {</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>        <a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>   _;</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>        <span class="keywordflow">if</span> (!(<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>, <a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$get(_, &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>))) {</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>            <span class="keywordtype">int</span> l = 0;;</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a>  =  keys.size();</div>
<div class="line"><span class="lineno">  941</span>            <span class="keywordflow">for</span> (std::string key : keys) {</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>                std::string name = IMAGE_PATH + key;</div>
<div class="line"><span class="lineno">  944</span>                log_once(<span class="stringliteral">&quot;Image Loading...... %s    \n&quot;</span>, (name).c_str());</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>                ktx::loadmap loader;</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>                <span class="keywordflow">if</span> (ktx::Flags::Error == loader.load(name.c_str())) {</div>
<div class="line"><span class="lineno">  949</span>                    log_bad(<span class="stringliteral">&quot;stb Load %s    \n&quot;</span>, (name).c_str());</div>
<div class="line"><span class="lineno">  950</span>                };</div>
<div class="line"><span class="lineno">  951</span>                <span class="keywordflow">if</span> (l ==0) {</div>
<div class="line"><span class="lineno">  952</span>                    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> = loader.images-&gt;w;</div>
<div class="line"><span class="lineno">  953</span>                    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> = loader.images-&gt;h;</div>
<div class="line"><span class="lineno">  954</span>                    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a3ca026e2880c5d312f7145176f767810">c</a> = 4;</div>
<div class="line"><span class="lineno">  955</span>                    _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2124d6fe9071cd2fd9dc57ed53571a03">size</a> = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a3ca026e2880c5d312f7145176f767810">c</a>;</div>
<div class="line"><span class="lineno">  956</span>                    <a class="code hl_function" href="struct_images_vk.html#a96a65a9a7f47522a7cad2d9389681602">create2DArray</a>(_, iach.<a class="code hl_variable" href="struct_iache.html#ac25874ed6164a9fe7f24dafa86aabc16">format</a>);</div>
<div class="line"><span class="lineno">  957</span>                }</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>                _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageLayout = VK_IMAGE_LAYOUT_UNDEFINED;</div>
<div class="line"><span class="lineno">  960</span>                cmder.<a class="code hl_function" href="struct_immidiate_cmd.html#a1797089d99f649c2d8f782ccc11ebbc9">bridgeMap</a>(_, (<span class="keywordtype">char</span>*)loader.images-&gt;packed,l, iach.<a class="code hl_variable" href="struct_iache.html#a30425b4efcd1f91788953b1da44b8b72">layout</a>);</div>
<div class="line"><span class="lineno">  961</span>                l++;</div>
<div class="line"><span class="lineno">  962</span>            }</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2124d6fe9071cd2fd9dc57ed53571a03">size</a> *= _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a> ;</div>
<div class="line"><span class="lineno">  965</span>            <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>, <a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$set$(std::move(_), &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>);</div>
<div class="line"><span class="lineno">  966</span>            iach.<a class="code hl_variable" href="struct_iache.html#ab44ae9de1741098aa1f15567607fcb0f">refCnt</a>++;</div>
<div class="line"><span class="lineno">  967</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  968</span>        }</div>
<div class="line"><span class="lineno">  969</span> </div>
<div class="line"><span class="lineno">  970</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>    };</div>
<div class="ttc" id="astruct_images_vk_html_a96a65a9a7f47522a7cad2d9389681602"><div class="ttname"><a href="struct_images_vk.html#a96a65a9a7f47522a7cad2d9389681602">ImagesVk::create2DArray</a></div><div class="ttdeci">bool create2DArray(MIVSIvk &amp;_, VkFormat format)</div><div class="ttdef"><b>Definition:</b> <a href="_images_vk_8cpp_source.html#l00147">ImagesVk.cpp:147</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acb134f04529b8cc4a9abdbab898cf8d5" name="acb134f04529b8cc4a9abdbab898cf8d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb134f04529b8cc4a9abdbab898cf8d5">&#9670;&nbsp;</a></span>createFromFileStorage()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::createFromFileStorage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>cmder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_iache.html">Iache</a> &amp;&#160;</td>
          <td class="paramname"><em>iach</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL);</p>

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00975">975</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  975</span>                                                                                   {</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>        <a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>   _;</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>        <span class="keywordflow">if</span> (!(<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>,<a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$get(_, &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>))) {</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>            std::string name = IMAGE_PATH + key;</div>
<div class="line"><span class="lineno">  982</span>            log_once(<span class="stringliteral">&quot;Image Loading...... %s    \n&quot;</span>, (name).c_str());</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>            ktx::loadmap loader;</div>
<div class="line"><span class="lineno">  985</span> </div>
<div class="line"><span class="lineno">  986</span>            <span class="keywordflow">if</span> (ktx::Flags::Error == loader.load(name.c_str())) {</div>
<div class="line"><span class="lineno">  987</span>                log_bad(<span class="stringliteral">&quot;stb Load %s    \n&quot;</span>, (name).c_str());</div>
<div class="line"><span class="lineno">  988</span>            };</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> = loader.images-&gt;w;</div>
<div class="line"><span class="lineno">  991</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> = loader.images-&gt;h;</div>
<div class="line"><span class="lineno">  992</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a3ca026e2880c5d312f7145176f767810">c</a> = 4;</div>
<div class="line"><span class="lineno">  993</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a> =  2;</div>
<div class="line"><span class="lineno">  994</span>            _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2124d6fe9071cd2fd9dc57ed53571a03">size</a> = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a3ca026e2880c5d312f7145176f767810">c</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a>;</div>
<div class="line"><span class="lineno">  995</span> </div>
<div class="line"><span class="lineno">  996</span>            <a class="code hl_function" href="struct_images_vk.html#aab722003ad259aa64757a8b34e5bab0d">create2DStorageArray</a>(_, iach.<a class="code hl_variable" href="struct_iache.html#ac25874ed6164a9fe7f24dafa86aabc16">format</a>);</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span>            <span class="keywordflow">if</span> (iach.<a class="code hl_variable" href="struct_iache.html#ac25874ed6164a9fe7f24dafa86aabc16">format</a> == VK_FORMAT_R32G32B32A32_SFLOAT) {</div>
<div class="line"><span class="lineno">  999</span>                _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2124d6fe9071cd2fd9dc57ed53571a03">size</a> = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a3ca026e2880c5d312f7145176f767810">c</a> * 4;</div>
<div class="line"><span class="lineno"> 1000</span>            }</div>
<div class="line"><span class="lineno"> 1001</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1002</span>                _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2124d6fe9071cd2fd9dc57ed53571a03">size</a> = _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> * _.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a3ca026e2880c5d312f7145176f767810">c</a>;</div>
<div class="line"><span class="lineno"> 1003</span>            };</div>
<div class="line"><span class="lineno"> 1004</span>            </div>
<div class="line"><span class="lineno"> 1005</span> </div>
<div class="line"><span class="lineno"> 1006</span>            cmder.<a class="code hl_function" href="struct_immidiate_cmd.html#a1797089d99f649c2d8f782ccc11ebbc9">bridgeMap</a>(_, (<span class="keywordtype">char</span>*)loader.images-&gt;packed, iach.<a class="code hl_variable" href="struct_iache.html#a30425b4efcd1f91788953b1da44b8b72">layout</a>);</div>
<div class="line"><span class="lineno"> 1007</span>            </div>
<div class="line"><span class="lineno"> 1008</span>            <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>,<a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$set$(std::move(_), &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>);</div>
<div class="line"><span class="lineno"> 1009</span>            iach.<a class="code hl_variable" href="struct_iache.html#ab44ae9de1741098aa1f15567607fcb0f">refCnt</a>++;</div>
<div class="line"><span class="lineno"> 1010</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1011</span>        }</div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span>    };</div>
<div class="ttc" id="astruct_images_vk_html_aab722003ad259aa64757a8b34e5bab0d"><div class="ttname"><a href="struct_images_vk.html#aab722003ad259aa64757a8b34e5bab0d">ImagesVk::create2DStorageArray</a></div><div class="ttdeci">bool create2DStorageArray(Mem &amp;_, VkFormat format)</div><div class="ttdef"><b>Definition:</b> <a href="_images_vk_8h_source.html#l00709">ImagesVk.h:709</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1592d43e4e467092e8dc6320c8038e5a" name="a1592d43e4e467092e8dc6320c8038e5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1592d43e4e467092e8dc6320c8038e5a">&#9670;&nbsp;</a></span>createFromKtx()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::createFromKtx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>cmder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_iache.html">Iache</a> &amp;&#160;</td>
          <td class="paramname"><em>iach</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >ktx_size_t ktxTextureSize = ktxTexture_GetSize(ktxTexture);</p>
<p >cache[filename] = _;</p>

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00838">838</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  839</span>    {</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>        <a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>  miv;</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>        <span class="keywordflow">if</span> (!(<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>,<a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$get(miv, &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>))) {</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>            std::string  filename = IMAGE_PATH + key;</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>            ktxResult              result;</div>
<div class="line"><span class="lineno">  849</span>            ktxTexture* ktxTexture;</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>            <span class="keywordflow">if</span> (!vka::shelve::fileExists(filename)) {</div>
<div class="line"><span class="lineno">  852</span>                log_bad(<span class="stringliteral">&quot;Could not load texture from  %s \n\nThe file may be part of the additional asset pack.\n\nRun \&quot;download_assets.py\&quot; in the repository root to download the latest version.&quot;</span>, filename.c_str());</div>
<div class="line"><span class="lineno">  853</span>            }</div>
<div class="line"><span class="lineno">  854</span>            result = ktxTexture_CreateFromNamedFile(filename.c_str(), KTX_TEXTURE_CREATE_LOAD_IMAGE_DATA_BIT, &amp;ktxTexture);</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>            assert(result == KTX_SUCCESS);</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>            <span class="comment">// Get properties required for using and upload texture data from the ktx texture object</span></div>
<div class="line"><span class="lineno">  859</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ad9ed4829f12fa3c31497c86182932829">w</a> = ktxTexture-&gt;baseWidth;</div>
<div class="line"><span class="lineno">  860</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a98a6348c2fdb43469c8242d6e3f2d18d">h</a> = ktxTexture-&gt;baseHeight;</div>
<div class="line"><span class="lineno">  861</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a> = ktxTexture-&gt;numLayers;</div>
<div class="line"><span class="lineno">  862</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2124d6fe9071cd2fd9dc57ed53571a03">size</a> = ktxTexture_GetSize(ktxTexture);</div>
<div class="line"><span class="lineno">  863</span>        <span class="comment">//  ktx_uint8_t* ktxTextureData = ktxTexture_GetData(ktxTexture);</span></div>
<div class="line"><span class="lineno">  865</span><span class="comment"></span>            <span class="keywordflow">if</span> (miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a35d4ce6e0d7ab599429c94a33250d007">l</a> == 1) {</div>
<div class="line"><span class="lineno">  866</span>                <a class="code hl_function" href="struct_images_vk.html#aa0b2e446e39fb9306822ee7c9acd03de">create2D</a>(miv, iach.<a class="code hl_variable" href="struct_iache.html#ac25874ed6164a9fe7f24dafa86aabc16">format</a>);</div>
<div class="line"><span class="lineno">  867</span>            }</div>
<div class="line"><span class="lineno">  868</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  869</span>                <a class="code hl_function" href="struct_images_vk.html#a96a65a9a7f47522a7cad2d9389681602">create2DArray</a>(miv, iach.<a class="code hl_variable" href="struct_iache.html#ac25874ed6164a9fe7f24dafa86aabc16">format</a>);</div>
<div class="line"><span class="lineno">  870</span>            }</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>            cmder.<a class="code hl_function" href="struct_immidiate_cmd.html#a295687c321d58a126370cb97c1706612">bridgeMapArray</a>(miv, ktxTexture, VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL);</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>            ktxTexture_Destroy(ktxTexture);</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a> = {};</div>
<div class="line"><span class="lineno">  879</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.sampler = miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#ae7b88f360cd4a5c4b57b4c3c1a4943f5">sampler</a>;</div>
<div class="line"><span class="lineno">  880</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageView = miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">view</a>;</div>
<div class="line"><span class="lineno">  881</span>            miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a2188ebfb4602388e7e203021dbce4627">Info</a>.imageLayout = VK_IMAGE_LAYOUT_SHADER_READ_ONLY_OPTIMAL;</div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  884</span>            <a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>,<a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$set$(std::move(miv), &amp;iach.<a class="code hl_variable" href="struct_iache.html#ad3970065f6f0cebebce27a8ec49f5a78">hach</a>);</div>
<div class="line"><span class="lineno">  885</span>            iach.<a class="code hl_variable" href="struct_iache.html#ab44ae9de1741098aa1f15567607fcb0f">refCnt</a>++;</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>            <a class="code hl_define" href="_images_vk_8h.html#a028aff2a2f489739cd0ce52d14e000ad">log_img</a>(<span class="stringliteral">&quot;ImagesVk Create KTX   TexArray   %x    %s    \n&quot;</span>,miv.<a class="code hl_variable" href="struct_m_i_v_s_ivk.html#a9e6717e0eec79418bf88420157b76b86">view</a>,filename.c_str());</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  890</span>        };</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  893</span>    };</div>
<div class="ttc" id="astruct_immidiate_cmd_html_a295687c321d58a126370cb97c1706612"><div class="ttname"><a href="struct_immidiate_cmd.html#a295687c321d58a126370cb97c1706612">ImmidiateCmd::bridgeMapArray</a></div><div class="ttdeci">bool bridgeMapArray(MIVSIvk &amp;_, ktxTexture *ktxTexture, VkImageLayout X)</div><div class="ttdef"><b>Definition:</b> <a href="_cmd_pool_vk_8cpp_source.html#l00410">CmdPoolVk.cpp:410</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dfba76e12298bbf185609eb8028f57d" name="a8dfba76e12298bbf185609eb8028f57d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dfba76e12298bbf185609eb8028f57d">&#9670;&nbsp;</a></span>createFromRaw()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp; ImagesVk::createFromRaw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_immidiate_cmd.html">ImmidiateCmd</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>cmder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>Name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkImageLayout&#160;</td>
          <td class="paramname"><em>dstlayout</em> = <code>VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00676">676</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  677</span>    {</div>
<div class="line"><span class="lineno">  678</span>        <a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>  _;</div>
<div class="line"><span class="lineno">  679</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  680</span><span class="comment">        if (cache.count(Name) &gt; 0)return cache[Name];</span></div>
<div class="line"><span class="lineno">  681</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  682</span><span class="comment">        MIVSIvk&amp; _ = cache[Name];</span></div>
<div class="line"><span class="lineno">  683</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  684</span><span class="comment">        _.w = w;</span></div>
<div class="line"><span class="lineno">  685</span><span class="comment">        _.h = h;</span></div>
<div class="line"><span class="lineno">  686</span><span class="comment">        _.c = 4;</span></div>
<div class="line"><span class="lineno">  687</span><span class="comment">        _.l = 1;</span></div>
<div class="line"><span class="lineno">  688</span><span class="comment">        _.size = _.w * _.h * _.c * _.l;</span></div>
<div class="line"><span class="lineno">  689</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  690</span><span class="comment">        create2D(_, VK_FORMAT_R8G8B8A8_UNORM);</span></div>
<div class="line"><span class="lineno">  691</span><span class="comment">        //reate2D(_, VK_FORMAT_R8G8B8_SNORM);</span></div>
<div class="line"><span class="lineno">  692</span><span class="comment">        //create2D(_, VK_FORMAT_R8G8B8_UNORM);</span></div>
<div class="line"><span class="lineno">  693</span><span class="comment">        cmder.bridgeMap(_, src, dstlayout);</span></div>
<div class="line"><span class="lineno">  694</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>        <span class="keywordflow">return</span> _;</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>    };</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae64b3fe993a6ecb2c9201e4c798cad68" name="ae64b3fe993a6ecb2c9201e4c798cad68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae64b3fe993a6ecb2c9201e4c798cad68">&#9670;&nbsp;</a></span>dealloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ImagesVk::dealloc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8cpp_source.html#l00065">65</a> of file <a class="el" href="_images_vk_8cpp_source.html">ImagesVk.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>                       {</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    </div>
<div class="line"><span class="lineno">   68</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a957ccbe3c1fc7393a4db9f56eb9c9d13" name="a957ccbe3c1fc7393a4db9f56eb9c9d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957ccbe3c1fc7393a4db9f56eb9c9d13">&#9670;&nbsp;</a></span>getImage()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ImagesVk::getImage </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>iach</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_i_v_s_ivk.html">MIVSIvk</a> &amp;&#160;</td>
          <td class="paramname"><em>_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00667">667</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  667</span>                                      {</div>
<div class="line"><span class="lineno">  668</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="incomplete_8h.html#a87194b020271631ee31ef95650b93349">Mem</a>(<a class="code hl_struct" href="struct_m_i_v_s_ivk.html">MIVSIvk</a>,<a class="code hl_define" href="_images_vk_8h.html#ad7012ed3b3f3cb02b2ac2f38bcb139be">SIZE_MIVSI</a>).$get(_, &amp;iach.hach)) {</div>
<div class="line"><span class="lineno">  669</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  670</span>        };</div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  672</span>    };</div>
</div><!-- fragment -->
</div>
</div>
<a id="af690e07290f9342a72aeeee8103fecd4" name="af690e07290f9342a72aeeee8103fecd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af690e07290f9342a72aeeee8103fecd4">&#9670;&nbsp;</a></span>loadShader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VkPipelineShaderStageCreateInfo ImagesVk::loadShader </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkShaderStageFlagBits&#160;</td>
          <td class="paramname"><em>stage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pv_svk.html">PvSvk</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8cpp_source.html#l00282">282</a> of file <a class="el" href="_images_vk_8cpp_source.html">ImagesVk.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  283</span>{</div>
<div class="line"><span class="lineno">  284</span>    VkPipelineShaderStageCreateInfo shaderStage = {};</div>
<div class="line"><span class="lineno">  285</span>    shaderStage.sType = VK_STRUCTURE_TYPE_PIPELINE_SHADER_STAGE_CREATE_INFO;</div>
<div class="line"><span class="lineno">  286</span>    shaderStage.stage = stage;</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    shaderStage.module = vka::shelve::loadShader(fileName.c_str(), $device);</div>
<div class="line"><span class="lineno">  289</span>    shaderStage.pName = <span class="stringliteral">&quot;main&quot;</span>; <span class="comment">// todo : make param</span></div>
<div class="line"><span class="lineno">  290</span>    p.<a class="code hl_variable" href="struct_pv_svk.html#af2f3d27e1a69358bd9abbbc13bfbdb70">shaderModules</a>.push_back(shaderStage.module);</div>
<div class="line"><span class="lineno">  291</span>    assert(shaderStage.module != VK_NULL_HANDLE);</div>
<div class="line"><span class="lineno">  292</span>    <span class="keywordflow">return</span> shaderStage;</div>
<div class="line"><span class="lineno">  293</span>};</div>
<div class="ttc" id="astruct_pv_svk_html_af2f3d27e1a69358bd9abbbc13bfbdb70"><div class="ttname"><a href="struct_pv_svk.html#af2f3d27e1a69358bd9abbbc13bfbdb70">PvSvk::shaderModules</a></div><div class="ttdeci">std::vector&lt; VkShaderModule &gt; shaderModules</div><div class="ttdef"><b>Definition:</b> <a href="vthreepy__types_8h_source.html#l00357">vthreepy_types.h:357</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac75432fbee01646873fa40d567055d0c" name="ac75432fbee01646873fa40d567055d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac75432fbee01646873fa40d567055d0c">&#9670;&nbsp;</a></span>cmdPool</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VkCommandPool ImagesVk::cmdPool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_images_vk_8h_source.html#l00656">656</a> of file <a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li><a class="el" href="_images_vk_8h_source.html">ImagesVk.h</a></li>
<li><a class="el" href="_images_vk_8cpp_source.html">ImagesVk.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
